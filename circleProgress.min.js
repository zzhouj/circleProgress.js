/* circleProgress.js 0.0.1 2014-06-09 */
!function(a){var b=function(){return a.requestAnimationFrame||function(b){return a.setTimeout(b,1e3/60)}}(),c=function(){return a.cancelAnimationFrame||a.clearTimeout}(),d=function(a){0!==a.progress&&(a.progress=a.progress||100),0!==a.duration&&(a.duration=a.duration||1e3),a.fps=60,a.color=a.color||"rgb(52, 145, 204)",a.bgColor=a.bgColor||"rgb(230, 230, 230)",a.textColor=a.textColor||"black",a.progressWidth=a.progressWidth||.25,a.fontScale=a.fontScale||.4,a.toFixed=a.toFixed||0;var d=document.getElementById(a.id);if(null!=d){d.textContent="",a.width=parseInt(d.getAttribute("width")),a.height=parseInt(d.getAttribute("height")),a.x=a.width/2,a.y=a.height/2,a.r1=Math.floor(Math.min(a.width,a.height)/2),a.r2=Math.floor(a.r1*(1-a.progressWidth)),a.r=Math.floor((a.r1+a.r2)/2),a.strokeWidth=a.r1-a.r2,a.fontSize=Math.floor(a.r1*a.fontScale),a.fullBgCircle=document.createElementNS("http://www.w3.org/2000/svg","circle"),a.fullBgCircle.setAttribute("cx",a.x),a.fullBgCircle.setAttribute("cy",a.y),a.fullBgCircle.setAttribute("r",a.r),a.fullBgCircle.setAttribute("stroke-width",a.strokeWidth),a.fullBgCircle.setAttribute("stroke",a.bgColor),a.fullBgCircle.setAttribute("fill","none"),d.appendChild(a.fullBgCircle),a.fullProgressCircle=document.createElementNS("http://www.w3.org/2000/svg","circle"),a.fullProgressCircle.setAttribute("cx",a.x),a.fullProgressCircle.setAttribute("cy",a.y),a.fullProgressCircle.setAttribute("r",a.r),a.fullProgressCircle.setAttribute("stroke-width",a.strokeWidth),a.fullProgressCircle.setAttribute("stroke",a.color),a.fullProgressCircle.setAttribute("fill","none"),d.appendChild(a.fullProgressCircle),a.bgCircle=document.createElementNS("http://www.w3.org/2000/svg","path"),a.bgCircle.setAttribute("d","M0, 0"),a.bgCircle.setAttribute("stroke-width",a.strokeWidth),a.bgCircle.setAttribute("stroke",a.bgColor),a.bgCircle.setAttribute("fill","none"),d.appendChild(a.bgCircle),a.progressCircle=document.createElementNS("http://www.w3.org/2000/svg","path"),a.progressCircle.setAttribute("d","M0, 0"),a.progressCircle.setAttribute("stroke-width",a.strokeWidth),a.progressCircle.setAttribute("stroke",a.color),a.progressCircle.setAttribute("fill","none"),d.appendChild(a.progressCircle),a.progressText=document.createElementNS("http://www.w3.org/2000/svg","text"),a.progressText.setAttribute("x",a.x),a.progressText.setAttribute("y",a.y+a.fontSize/3),a.progressText.setAttribute("text-anchor","middle"),a.progressText.setAttribute("font-size",a.fontSize),a.progressText.setAttribute("stroke","none"),a.progressText.setAttribute("fill",a.textColor),d.appendChild(a.progressText);var f=function(){a.current<a.progress&&a.duration>0?(e(a),a.current+=a.progress*(1e3/a.fps)/a.duration,d.setAttribute("data-requestID",b(f))):(a.current=a.progress,e(a),d.removeAttribute("data-requestID"))};c(d.getAttribute("data-requestID")),a.current=0,f()}},e=function(a){var b=a.current,c=a.x,d=a.y,e=a.r,f=-Math.PI/2,g=f+2*Math.PI*b/100;a.fullBgCircle.style.cssText=0===b?"":"display:none",a.fullProgressCircle.style.cssText=100===b?"":"display:none";var h=c+e*Math.cos(f),i=d+e*Math.sin(f),j=c+e*Math.cos(g),k=d+e*Math.sin(g),l=g-f<Math.PI?0:1,m=1;a.bgCircle.setAttribute("d","M"+h+" "+i+" A"+e+" "+e+" 0 "+(1-l)+" "+(1-m)+" "+j+" "+k),a.progressCircle.setAttribute("d","M"+h+" "+i+" A"+e+" "+e+" 0 "+l+" "+m+" "+j+" "+k),a.progressText.textContent=""+b.toFixed(a.toFixed)+"%"};a.circleProgress=d}(this);